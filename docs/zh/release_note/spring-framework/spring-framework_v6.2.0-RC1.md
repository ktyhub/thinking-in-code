# spring-framework v6.2.0-RC1
<<<<<<< HEAD
### Spring Frameworkæ˜¯ä»€ä¹ˆï¼Ÿ

Spring Frameworkæ˜¯ä¸€ä¸ªå¼€æºçš„Javaæ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ–ä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¾èµ–æ³¨å…¥ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€äº‹åŠ¡ç®¡ç†å’ŒMVCï¼ˆæ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼‰æ¶æ„ç­‰ã€‚Springçš„æ ¸å¿ƒç†å¿µæ˜¯é€šè¿‡æ¾è€¦åˆçš„æ–¹å¼æ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„ç»„ä»¶ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´çµæ´»åœ°æ„å»ºå’Œç»´æŠ¤å¤æ‚çš„åº”ç”¨ã€‚

### ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Spring Frameworkï¼Ÿ

ä½¿ç”¨Spring Frameworkçš„åŸå› æœ‰å¾ˆå¤šã€‚é¦–å…ˆï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„ä¾èµ–æ³¨å…¥åŠŸèƒ½ï¼Œä½¿å¾—ç»„ä»¶ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œä»è€Œæé«˜äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å…¶æ¬¡ï¼ŒSpringæ”¯æŒå¤šç§ç¼–ç¨‹æ¨¡å‹ï¼ŒåŒ…æ‹¬ä¼ ç»Ÿçš„Java EEã€Webåº”ç”¨ç¨‹åºå’Œå¾®æœåŠ¡æ¶æ„ã€‚æ­¤å¤–ï¼ŒSpringçš„ç”Ÿæ€ç³»ç»Ÿéå¸¸ä¸°å¯Œï¼Œæ‹¥æœ‰ä¼—å¤šçš„æ‰©å±•é¡¹ç›®ï¼Œå¦‚Spring Bootã€Spring Cloudç­‰ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºå’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚æœ€åï¼ŒSpringçš„ç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£ä¸°å¯Œï¼Œèƒ½å¤Ÿä¸ºå¼€å‘è€…æä¾›è‰¯å¥½çš„æ”¯æŒã€‚

### Spring Framework v6.2.0-RC1ç‰ˆæœ¬æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ

åœ¨Spring Framework v6.2.0-RC1ç‰ˆæœ¬ä¸­ï¼Œè¿›è¡Œäº†å¤šé¡¹é‡è¦æ›´æ–°å’Œä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„æ›´æ–°å†…å®¹ï¼š

#### æ–°ç‰¹æ€§
- æ›´æ–°äº†`mime.types`å¹¶ç§»é™¤äº†æ³¨é‡Šæ¡ç›®ã€‚
- åœ¨ä½¿ç”¨MockMvcæ—¶æä¾›å¯¹æœªå±•å¼€çš„URIæ¨¡æ¿çš„è®¿é—®ã€‚
- é¿å…åœ¨AnnotationTypeMappingä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å¼•å…¥`DynamicPropertyRegistrar`ä½œä¸º`DynamicPropertyRegistry` beanæ”¯æŒçš„æ›¿ä»£ã€‚
- é¿å…åœ¨MethodParameterå­—æ®µä¸­å­˜å‚¨é‡å¤çš„ç©ºæ•°ç»„ã€‚
- æ›´æ–°äº†å½“Interceptoræ›´æ”¹è¯·æ±‚ä½“æ—¶çš„Content-Lengthã€‚
- UrlHandlerFilterä¸åº”ä»æ ¹URLä¸­å»æ‰å°¾éƒ¨æ–œæ ã€‚
- åœ¨`ReflectionTestUtils`ä¸­è°ƒç”¨éä»£ç†æ–¹æ³•æ—¶è§£åŒ…CGLIBä»£ç†ã€‚
- é‡æ–°æ„å»ºeTagæ ¼å¼åŒ–é€»è¾‘ä¸ºé™æ€å·¥å…·æ–¹æ³•ã€‚
- ç»Ÿä¸€`http.client`åŒ…å†…çš„Reactorå®¢æˆ·ç«¯ç±»åã€‚
- å…è®¸åœ¨ResponseBodyEmitterä¸Šä½¿ç”¨å¤šä¸ªç›‘å¬å™¨ã€‚
- å°½å¯èƒ½é€šè¿‡å…¬å…±å£°æ˜ç±»å‹è°ƒç”¨init/destroy/SpELæ–¹æ³•ã€‚
- åˆ›å»ºWebFluxç­‰æ•ˆè¿‡æ»¤å™¨ä»¥å¤„ç†å¸¦å°¾éƒ¨æ–œæ çš„URLã€‚
- æä¾›æ›´å¤šé€šè¿‡ServerResponseæµå¼å¤„ç†WebMvcåŠŸèƒ½ç«¯ç‚¹çš„æ–¹æ³•ã€‚

#### Bugä¿®å¤
- å½“å¤šä¸ªçº¿ç¨‹ä»StaticApplicationContextçš„Bean Factoryè·å–beanæ—¶ï¼Œä¼šæŠ›å‡º`BeanCurrentlyInCreationException`ã€‚

#### æ–‡æ¡£æ›´æ–°
- ä¿®è®¢äº†Spring JMXæ³¨è§£çš„å‚è€ƒæ–‡æ¡£ã€‚
- ä¸º`ReflectionHints.registerForInterfaces()`æ·»åŠ äº†Javadocã€‚
- ä¿®è®¢äº†å‚è€ƒæ‰‹å†Œä¸­çš„AOPä»£ç†éƒ¨åˆ†ã€‚
- æ•´åˆäº†å‚è€ƒæ‰‹å†Œä¸­çš„è‡ªæˆ‘æ³¨å…¥æ–‡æ¡£ã€‚
- æ‰©å±•äº†ç¼©å†™FQNå’ŒFQCNçš„è¯´æ˜ã€‚
- è®°å½•WebFluxä¸æ”¯æŒè½¬å‘é‡å®šå‘çš„æƒ…å†µã€‚
- è®°å½•TaskDecoratorä¸TaskExecutorsçš„ä½¿ç”¨ã€‚

#### ä¾èµ–å‡çº§
- å‡çº§åˆ°JUnit 5.11ã€‚
- å‡çº§åˆ°Micrometer 1.14.0-M3ã€‚
- å‡çº§åˆ°Reactor 2024.0.0-M6ã€‚

### æ›´æ–°æ—¥å¿—

## â­ æ–°ç‰¹æ€§
- æ›´æ–°äº†`mime.types`å¹¶ç§»é™¤äº†æ³¨é‡Šæ¡ç›®ã€‚
- åœ¨ä½¿ç”¨MockMvcæ—¶æä¾›å¯¹æœªå±•å¼€çš„URIæ¨¡æ¿çš„è®¿é—®ã€‚
- é¿å…åœ¨AnnotationTypeMappingä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å¼•å…¥`DynamicPropertyRegistrar`ä½œä¸º`DynamicPropertyRegistry` beanæ”¯æŒçš„æ›¿ä»£ã€‚
- é¿å…åœ¨MethodParameterå­—æ®µä¸­å­˜å‚¨é‡å¤çš„ç©ºæ•°ç»„ã€‚
- é¿å…åœ¨ResolvableTypeä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å½“Interceptoræ›´æ”¹è¯·æ±‚ä½“æ—¶æ›´æ–°Content-Lengthã€‚
- UrlHandlerFilterä¸åº”ä»æ ¹URLä¸­å»æ‰å°¾éƒ¨æ–œæ ã€‚
- åœ¨`ReflectionTestUtils`ä¸­è°ƒç”¨éä»£ç†æ–¹æ³•æ—¶è§£åŒ…CGLIBä»£ç†ã€‚
- é‡æ–°æ„å»ºeTagæ ¼å¼åŒ–é€»è¾‘ä¸ºé™æ€å·¥å…·æ–¹æ³•ã€‚
- å°è£…ETagæ¯”è¾ƒé€»è¾‘ã€‚
- ç»Ÿä¸€`http.client`åŒ…å†…çš„Reactorå®¢æˆ·ç«¯ç±»åã€‚
- å…è®¸åœ¨ResponseBodyEmitterä¸Šä½¿ç”¨å¤šä¸ªç›‘å¬å™¨ã€‚
- å°½å¯èƒ½é€šè¿‡å…¬å…±å£°æ˜ç±»å‹è°ƒç”¨init/destroy/SpELæ–¹æ³•ã€‚
- åˆ›å»ºWebFluxç­‰æ•ˆè¿‡æ»¤å™¨ä»¥å¤„ç†å¸¦å°¾éƒ¨æ–œæ çš„URLã€‚
- æä¾›æ›´å¤šé€šè¿‡ServerResponseæµå¼å¤„ç†WebMvcåŠŸèƒ½ç«¯ç‚¹çš„æ–¹æ³•ã€‚

## ğŸ Bugä¿®å¤
- å½“å¤šä¸ªçº¿ç¨‹ä»StaticApplicationContextçš„Bean Factoryè·å–beanæ—¶ï¼Œä¼šæŠ›å‡º`BeanCurrentlyInCreationException`ã€‚

## ğŸ“” æ–‡æ¡£
- ä¿®è®¢äº†Spring JMXæ³¨è§£çš„å‚è€ƒæ–‡æ¡£ã€‚
- ä¸º`ReflectionHints.registerForInterfaces()`æ·»åŠ äº†Javadocã€‚
- ä¿®è®¢äº†å‚è€ƒæ‰‹å†Œä¸­çš„AOPä»£ç†éƒ¨åˆ†ã€‚
- æ•´åˆäº†å‚è€ƒæ‰‹å†Œä¸­çš„è‡ªæˆ‘æ³¨å…¥æ–‡æ¡£ã€‚
- æ‰©å±•äº†ç¼©å†™FQNå’ŒFQCNçš„è¯´æ˜ã€‚
- è®°å½•WebFluxä¸æ”¯æŒè½¬å‘é‡å®šå‘çš„æƒ…å†µã€‚
=======
### Spring Frameworkæ˜¯ä»€ä¹ˆ

Spring Frameworkæ˜¯ä¸€ä¸ªå¼€æºçš„Javaæ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ–ä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¾èµ–æ³¨å…¥ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€äº‹åŠ¡ç®¡ç†ã€MVCæ¡†æ¶ç­‰ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºé«˜æ•ˆã€å¯ç»´æŠ¤å’Œå¯æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚

### ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Spring Frameworkï¼Ÿ

ä½¿ç”¨Spring Frameworkçš„åŸå› æœ‰å¾ˆå¤šã€‚é¦–å…ˆï¼Œå®ƒé€šè¿‡ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆï¼Œä½¿å¾—ä»£ç æ›´æ˜“äºæµ‹è¯•å’Œç»´æŠ¤ã€‚å…¶æ¬¡ï¼ŒSpringçš„é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰åŠŸèƒ½å…è®¸å¼€å‘è€…å°†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—ã€äº‹åŠ¡ç®¡ç†ç­‰ï¼‰ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ã€‚æ­¤å¤–ï¼ŒSpringè¿˜æä¾›äº†å¼ºå¤§çš„äº‹åŠ¡ç®¡ç†å’Œå®‰å…¨æ€§æ”¯æŒï¼Œé€‚åˆæ„å»ºå¤æ‚çš„ä¼ä¸šåº”ç”¨ã€‚

### å…¥é—¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„Springåº”ç”¨ç¨‹åºç¤ºä¾‹ï¼š

```java
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

public class Main {
    public static void main(String[] args) {
        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        MyService myService = context.getBean(MyService.class);
        myService.performAction();
    }
}
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªSpringåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œå¹¶ä»ä¸­è·å–ä¸€ä¸ªæœåŠ¡å®ä¾‹ï¼Œè°ƒç”¨å…¶æ–¹æ³•ã€‚

### Spring Framework v6.2.0-RC1ç‰ˆæœ¬æ›´æ–°äº†ä»€ä¹ˆ

åœ¨v6.2.0-RC1ç‰ˆæœ¬ä¸­ï¼ŒSpring Frameworkè¿›è¡Œäº†å¤šé¡¹é‡è¦æ›´æ–°ï¼ŒåŒ…æ‹¬ï¼š

- æ›´æ–°`mime.types`å¹¶ç§»é™¤æ³¨é‡Šæ¡ç›®ã€‚
- æä¾›åœ¨ä½¿ç”¨MockMvcæ—¶è®¿é—®æœªå±•å¼€çš„URIæ¨¡æ¿çš„åŠŸèƒ½ã€‚
- é¿å…åœ¨AnnotationTypeMappingä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å¼•å…¥`DynamicPropertyRegistrar`ä½œä¸º`DynamicPropertyRegistry`çš„æ›¿ä»£ã€‚
- æ›´æ–°Content-Lengthï¼Œå½“é€šè¿‡æ‹¦æˆªå™¨æ›´æ”¹è¯·æ±‚ä½“æ—¶ã€‚
- ä¿®å¤äº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä»`StaticApplicationContext`çš„Bean Factoryè·å–Beanæ—¶æŠ›å‡ºçš„`BeanCurrentlyInCreationException`å¼‚å¸¸ã€‚

### æ›´æ–°æ—¥å¿—

## â­ æ–°ç‰¹æ€§
- æ›´æ–°`mime.types`å¹¶ç§»é™¤æ³¨é‡Šæ¡ç›®ã€‚
- æä¾›åœ¨ä½¿ç”¨MockMvcæ—¶è®¿é—®æœªå±•å¼€çš„URIæ¨¡æ¿çš„åŠŸèƒ½ã€‚
- é¿å…åœ¨AnnotationTypeMappingä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å¼•å…¥`DynamicPropertyRegistrar`ä½œä¸º`DynamicPropertyRegistry`çš„æ›¿ä»£ã€‚
- é¿å…åœ¨MethodParameterå­—æ®µä¸­å­˜å‚¨é‡å¤çš„ç©ºæ•°ç»„ã€‚
- é¿å…åœ¨ResolvableTypeä¸­åˆ†é…ç©ºæ•°ç»„ã€‚
- å½“é€šè¿‡æ‹¦æˆªå™¨æ›´æ”¹è¯·æ±‚ä½“æ—¶æ›´æ–°Content-Lengthã€‚
- UrlHandlerFilterä¸åº”ä»æ ¹URLä¸­åˆ é™¤å°¾éƒ¨æ–œæ ã€‚
- åœ¨`ReflectionTestUtils`ä¸­è°ƒç”¨éä»£ç†æ–¹æ³•æ—¶è§£åŒ…CGLIBä»£ç†ã€‚
- å°†eTagæ ¼å¼åŒ–é€»è¾‘é‡æ„ä¸ºé™æ€å·¥å…·æ–¹æ³•ã€‚
- å°è£…eTagæ¯”è¾ƒé€»è¾‘ã€‚
- åœ¨`http.client`åŒ…ä¸­ç»Ÿä¸€Reactorå®¢æˆ·ç«¯ç±»åã€‚
- å…è®¸åœ¨ResponseBodyEmitterä¸Šä½¿ç”¨å¤šä¸ªç›‘å¬å™¨ã€‚
- å°½å¯èƒ½é€šè¿‡å…¬å…±å£°æ˜ç±»å‹è°ƒç”¨init/destroy/SpELæ–¹æ³•ã€‚
- åˆ›å»ºWebFluxç­‰æ•ˆè¿‡æ»¤å™¨ä»¥å¤„ç†å¸¦å°¾éƒ¨æ–œæ çš„URLã€‚
- ä¸ºWebMvcåŠŸèƒ½ç«¯ç‚¹æä¾›æ›´å¤šé€šè¿‡ServerResponseæµå¼ä¼ è¾“çš„æ–¹å¼ã€‚

## ğŸ Bugä¿®å¤
- å½“å¤šä¸ªçº¿ç¨‹ä»`StaticApplicationContext`çš„Bean Factoryè·å–Beanæ—¶ï¼ŒæŠ›å‡º`BeanCurrentlyInCreationException`å¼‚å¸¸ã€‚

## ğŸ“” æ–‡æ¡£
- ä¿®è®¢Spring JMXæ³¨è§£çš„å‚è€ƒæ–‡æ¡£ã€‚
- ä¸º`ReflectionHints.registerForInterfaces()`æ·»åŠ Javadocã€‚
- ä¿®è®¢å‚è€ƒæ‰‹å†Œä¸­çš„AOPä»£ç†éƒ¨åˆ†ã€‚
- æ•´åˆå‚è€ƒæ‰‹å†Œä¸­çš„è‡ªæˆ‘æ³¨å…¥æ–‡æ¡£ã€‚
- æ‰©å±•ç¼©å†™`FQN`å’Œ`FQCN`ã€‚
- è®°å½•WebFluxä¸æ”¯æŒå‰å‘é‡å®šå‘ã€‚
>>>>>>> branch 'main' of git@github.com:ktyhub/thinking-in-code.git
- è®°å½•TaskDecoratorä¸TaskExecutorsçš„ä½¿ç”¨ã€‚

## ğŸ”¨ ä¾èµ–å‡çº§
- å‡çº§åˆ°JUnit 5.11ã€‚
- å‡çº§åˆ°Micrometer 1.14.0-M3ã€‚
- å‡çº§åˆ°Reactor 2024.0.0-M6ã€‚