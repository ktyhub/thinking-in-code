# redis 8.0-M01
### Redis是什么

Redis是一种开源的内存数据结构存储系统，广泛用于缓存、消息代理和数据持久化。它支持多种数据结构，如字符串、哈希、列表、集合和有序集合等，能够以极高的性能处理大量数据。Redis的高可用性和分布式特性使其成为现代应用程序中不可或缺的组件。

### 为什么要使用Redis？

使用Redis的原因有很多。首先，它提供了极快的读写速度，适合需要高性能的应用场景。其次，Redis支持丰富的数据结构，能够满足不同的数据存储需求。此外，Redis的持久化机制确保数据的安全性和可靠性。最后，Redis的高可用性和分布式特性使得它能够轻松扩展，适应不断增长的业务需求。

### Redis 8.0-M01版本更新了什么

Redis 8.0-M01是Redis社区版8.0的第一个里程碑版本。该版本引入了新的数据结构，包括JSON、时间序列和五种概率数据结构（之前作为独立模块提供），并整合了Redis可扩展查询引擎（包括向量搜索）。该版本可以作为Docker镜像下载，未来将推出更多分发版本。

#### 支持的升级路径（通过复制或持久化）到8.0-M01
- 从之前的Redis版本（无模块）

以下升级路径尚未测试，将在未来的预发布版本中引入：
- 从带模块的之前Redis版本（如RediSearch、RedisJSON、RedisTimeSeries、RedisBloom）
- 从Redis Stack 7.2或7.4

#### 二进制分发中的新特性
- 7种新数据结构：JSON、时间序列、布隆过滤器、库克过滤器、计数最小草图、Top-k、t-digest
- Redis可扩展查询引擎（包括向量搜索）

#### 可能的破坏性更改
- `GETRANGE`在负结束索引超出范围时返回空数据
- 优化`SCAN`命令以匹配数据类型

#### Bug修复
- 修复`RM_RdbLoad`以在RDB加载完成后启用AOF
- 修复`ACL CAT`以返回模块命令
- 修复`cache_memory`中的竞争条件
- 修复由于`XTRIM`命令修剪流导致的错误延迟
- 修复`XINFO`中的错误延迟字段

#### 模块API
- 新的API调用：`RM_DefragAllocRaw`、`RM_DefragFreeRaw`和`RM_RegisterDefragCallbacks`，用于分配和释放原始内存的碎片整理API

#### 性能和资源利用改进
- 避免在listpack `lpFind`中的比较函数指针调用开销
- 优化`STRING`数据类型写入命令
- 优化`SMEMBERS`命令
- 优化`GEO*`命令的回复
- 优化客户端查询缓冲区

#### 其他一般改进
- 在复制时回复`-LOADING`，以便在清空数据库时保持一致性

#### CLI工具
- 修复redis-cli在客户端重新连接后显示错误的`dbnum`

#### 注意事项
- 不支持复制或持久化的向后兼容性。
- 未来的预发布版本将引入更多分发、升级路径、功能和改进。
- 随着8.0的GA发布，我们将弃用Redis Stack。