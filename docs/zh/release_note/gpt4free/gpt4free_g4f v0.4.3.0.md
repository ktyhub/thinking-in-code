# gpt4free g4f v0.4.3.0
### 为什么要使用gpt4free

在这个信息爆炸的时代，获取高质量的人工智能工具变得至关重要。然而，许多用户面临着高昂的费用和复杂的使用门槛。gpt4free的出现，正是为了解决这一矛盾。它不仅提供了强大的功能，还让每个人都能轻松接触到先进的AI技术。想象一下，您可以在不花费一分钱的情况下，利用最前沿的人工智能，开启无限的创作和学习可能性。这种机会，难道不值得您去尝试吗？

### gpt4free是什么

gpt4free是一个开源项目，旨在为用户提供免费的GPT-4模型访问。通过这个项目，用户可以在本地或云端运行GPT-4，享受强大的自然语言处理能力，而无需支付高额的订阅费用。它的设计使得开发者和普通用户都能轻松上手，充分利用AI的潜力。

### 入门示例

假设您是一位内容创作者，想要撰写一篇关于科技趋势的文章。使用gpt4free，您可以在本地环境中快速启动一个项目，输入主题关键词，AI会生成相关的段落和观点，帮助您构思文章结构。您只需简单地运行几行代码，就能获得灵感，节省大量的时间和精力。

### gpt4free g4f v0.4.3.0版本更新了什么

在最新的gpt4free v0.4.3.0版本中，进行了多项重要更新，包括对docker-compose的增强，改进了多个提供者脚本的逻辑，优化了HuggingFaceAPI的令牌处理，新增了演示模式功能，以及集成了API速率限制。这些更新旨在提升功能性、稳定性和用户体验。

### 更新日志

### 版本 0.4.2.7 发布说明
**发布日期：** 2025年1月26日

#### 亮点
本次发布引入了显著的增强、优化和新功能，以改善功能性、稳健性和用户体验。

---

#### 主要更新和功能

**对docker-compose的增强**
- 添加了`1337:8080`端口到`docker-compose-slim.yml`和`docker-compose.yml`，以启用新功能。
- 改进了所有运行应用程序的兼容性和设置灵活性。

**提供者脚本改进**
- 重构和优化了如CablyAI、Cloudflare和DeepInfraChat等提供者，以简化继承和逻辑。
- 引入了`use_nodriver`属性，以增强多个提供者类的自定义功能。
- 新增了`format_prompt_qwen2`函数，以管理HuggingFace中的新提示格式。

**HuggingFaceAPI增强**
- 改进了令牌处理，新增了`max_tokens`和`calculate_length`函数，以实现准确的令牌计数和输入管理。
- 通过改进对超出长度限制的消息的处理，增强了稳健性。
- 精简了模型属性，以便更好地管理。

**演示模式功能**
- 新增了`demo.html`文件，配备支持CSS和JS，以启用和展示演示功能。
- 更新了后端以支持演示模式，包括`create_app_with_gui_and_debug`和`create_app_with_demo_and_debug`等功能。
- 集成了用户旅程约束，以便更好地跟踪演示和使用情况。

**速率限制**
- 集成了`flask_limiter`，用于演示模式下的API速率限制，提高了公共访问下的UI稳定性。

**错误处理增强**
- 通过忽略文件上传和`web_search`中的编码错误，改进了边缘情况管理。
- 增强了流程的容错能力。

**代码结构和稳健性**
- 进行了多次重构和修复，以提高代码库的可维护性、性能和清晰度。

---

#### 测试建议
1. **演示模式**：广泛测试新的UI演示模式，涵盖前端和后端功能。
2. **令牌处理**：使用各种模型验证HuggingFaceAPI，以确保新的`max_tokens`限制在生产中按预期工作。
3. **速率限制**：在演示模式下验证`flask_limiter`在不同流量条件下的行为。
4. **错误处理**：确保编码错误处理能够优雅地管理问题，而不绕过关键工作流程。

---

### 变更内容
- 更新了提供者能力和模型支持。
- 更新了README.md文件。
- 增加了HuggingfaceAPI中的最大令牌数。
- 修复了读取提供者模型列表的问题。

### 新贡献者
- 一位新贡献者在项目中做出了首次贡献。

感谢您使用版本0.4.2.7！🚀

**完整变更记录**：0.4.2.6...0.4.3.0

### 总结

本次更新记录展示了gpt4free在功能、稳定性和用户体验方面的显著提升。通过对docker-compose的增强、提供者脚本的优化、HuggingFaceAPI的改进以及新增的演示模式，用户将能够更高效地利用这一强大的工具。