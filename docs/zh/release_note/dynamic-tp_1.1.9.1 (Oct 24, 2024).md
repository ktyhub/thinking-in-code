# dynamic-tp 1.1.9.1 (Oct 24, 2024)
### 为什么要使用dynamic-tp

在当今快速发展的技术环境中，开发者们面临着越来越复杂的任务调度需求。传统的线程池往往无法满足动态变化的负载和灵活的配置需求，这就引出了一个矛盾：如何在高效与灵活之间找到平衡？dynamic-tp应运而生，它不仅提供了强大的动态配置能力，还能有效地管理资源，避免了因线程池配置不当而导致的性能瓶颈。使用dynamic-tp，开发者可以轻松应对各种复杂场景，提升系统的稳定性与响应速度。

### dynamic-tp是什么

dynamic-tp是一个高性能的动态线程池管理框架，旨在帮助开发者更灵活地配置和管理线程池。它支持动态调整线程池的参数，如核心线程数、最大线程数等，能够根据实时负载情况自动优化资源使用，确保系统在高并发情况下依然保持高效运行。

### 入门示例

想象一下，你正在开发一个在线购物平台，用户在促销期间的访问量激增。使用传统的线程池可能会导致请求处理缓慢，甚至系统崩溃。而通过dynamic-tp，你可以在代码中轻松实现动态调整线程池的功能。例如，当检测到请求量激增时，系统可以自动增加线程池的核心线程数，从而快速响应用户请求。以下是一个简单的代码示例：

```java
DynamicThreadPoolExecutor executor = new DynamicThreadPoolExecutor();
executor.setCorePoolSize(10);
executor.setMaxPoolSize(50);
executor.execute(() -> {
    // 处理用户请求
});
```

### dynamic-tp 1.1.9.1 (Oct 24, 2024)版本更新了什么

在1.1.9.1版本中，dynamic-tp进行了多项重要更新。修复了定时任务只能运行核心线程数次数的问题，增强了ScheduledDtpExecutor的execute方法以避免内存溢出风险，并解决了AgentAware在处理内部属性引用任务时的栈溢出问题。此外，告警SPI和监控SPI的内部使用也进行了优化，支持忽略大小写。

### 更新日志

## Bugfix
- 修复定时任务只能运行核心线程数次数的问题。
- 修复ScheduledDtpExecutor增强execute方法，导致功能map清理不掉，有内存溢出风险。
- 修复AgentAware在处理有内部属性引用自身这类任务时的栈溢出问题。

## Optimize
- 告警SPI、监控SPI内部使用时忽略大小写。

### 总结

在最新的更新中，dynamic-tp不仅修复了多个关键bug，还对内部功能进行了优化，进一步提升了系统的稳定性和灵活性。这些改进将帮助开发者更高效地管理线程池，确保在高负载情况下依然能够保持良好的性能表现。