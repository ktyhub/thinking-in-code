/**
 * Navigation Bar Optimization for Homepage - Premium Commercial Design
 * 
 * This CSS file provides premium, professional styling for the homepage
 * header and navigation bar to create a sophisticated commercial website appearance.
 * 
 * Addresses:
 * - Premium visual hierarchy with elegant styling
 * - Crystal-clear readability and contrast
 * - Modern, professional header design
 * - Smooth, polished interactions
 * - Commercial-grade visual appeal
 */

/* ========================================
   PREMIUM HEADER DESIGN
   ======================================== */

/* Premium header styling for homepage with gradient background matching hero section */
/* Uses same gradient colors as hero section: --hero-gradient-start, --hero-gradient-mid, --hero-gradient-end */
/* Enhanced: Higher opacity for more vibrant gradient, stronger visual presence */
body:has(.homepage-hero) .md-header,
body:has(.plugin-showcase) .md-header {
  background: linear-gradient(135deg, 
    rgba(99, 102, 241, 1) 0%,   /* --hero-gradient-start at full opacity for vibrant look */
    rgba(139, 92, 246, 1) 50%,   /* --hero-gradient-mid at full opacity */
    rgba(168, 85, 247, 1) 100%) !important;  /* --hero-gradient-end at full opacity */
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25), 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  z-index: 100 !important;
  position: sticky !important;
  top: 0 !important;
}

/* Fallback for browsers without backdrop-filter support */
@supports not (backdrop-filter: blur(20px)) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    background: linear-gradient(135deg, 
      rgba(99, 102, 241, 1) 0%,   /* --hero-gradient-start at full opacity */
      rgba(139, 92, 246, 1) 50%,   /* --hero-gradient-mid at full opacity */
      rgba(168, 85, 247, 1) 100%) !important;  /* --hero-gradient-end at full opacity */
  }
  
  [data-md-color-scheme="slate"] body:has(.homepage-hero) .md-header,
  [data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-header {
    background: linear-gradient(180deg, rgba(25, 25, 35, 1) 0%, rgba(20, 20, 30, 1) 100%) !important;
  }
}

/* Performance optimization for mobile devices */
@media screen and (max-width: 60em) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    backdrop-filter: blur(15px) saturate(150%) !important;
    -webkit-backdrop-filter: blur(15px) saturate(150%) !important;
  }
}

/* Premium dark mode header - enhanced with full opacity gradient */
[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-header,
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-header {
  background: linear-gradient(135deg, rgba(30, 30, 45, 1) 0%, rgba(25, 25, 40, 1) 50%, rgba(20, 20, 35, 1) 100%) !important;
  box-shadow: 0 4px 28px rgba(0, 0, 0, 0.6), 0 2px 12px rgba(0, 0, 0, 0.4) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.12) !important;
}

/* Premium header height with elegant proportions */
body:has(.homepage-hero) .md-header,
body:has(.plugin-showcase) .md-header {
  min-height: 4.2rem !important;
  height: auto !important;
  padding: 0.4rem 0 !important;
}

/* Premium logo and title styling with better visibility on gradient background */
body:has(.homepage-hero) .md-header__title,
body:has(.plugin-showcase) .md-header__title {
  padding-left: 0.8rem !important;
  font-weight: 800 !important;
  font-size: 1.2rem !important;
  letter-spacing: -0.01em !important;
  color: #ffffff !important;
  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.25), 0 1px 3px rgba(0, 0, 0, 0.15) !important;
  transition: all 0.2s ease !important;
}

/* Logo icon enhancement with better shadow */
body:has(.homepage-hero) .md-header__button.md-logo,
body:has(.plugin-showcase) .md-header__button.md-logo {
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2)) !important;
  transition: transform 0.3s ease !important;
}

body:has(.homepage-hero) .md-header__button.md-logo:hover,
body:has(.plugin-showcase) .md-header__button.md-logo:hover {
  transform: scale(1.08) rotate(5deg) !important;
}

/* Premium header inner container with better alignment */
body:has(.homepage-hero) .md-header__inner,
body:has(.plugin-showcase) .md-header__inner {
  padding: 0 1.5rem !important;
  max-width: 1400px !important;
  margin: 0 auto !important;
}

/* Premium header buttons with enhanced visibility on gradient background */
body:has(.homepage-hero) .md-header__button,
body:has(.plugin-showcase) .md-header__button {
  margin: 0 0.3rem !important;
  padding: 0.4rem !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
  color: #ffffff !important;
}

body:has(.homepage-hero) .md-header__button:hover,
body:has(.plugin-showcase) .md-header__button:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-1px) !important;
}

[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-header__button:hover,
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-header__button:hover {
  background: rgba(100, 181, 246, 0.12) !important;
}

/* ========================================
   PREMIUM NAVIGATION TABS - INLINE WITH HEADER
   ======================================== */

/* Reposition tabs container to be inside header next to NextStack logo */
body:has(.homepage-hero) .md-tabs,
body:has(.plugin-showcase) .md-tabs {
  position: absolute !important;
  top: 50% !important;
  left: 200px !important; /* Slightly reduced from 220px to move closer to logo */
  transform: translateY(-50%) !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  min-height: auto !important;
  height: auto !important;
  width: auto !important;
  max-width: calc(100% - 500px) !important; /* Reserve space for search and other buttons on the right */
  display: flex !important;
  align-items: center !important;
  padding: 0 1rem !important;
  z-index: 101 !important;
}

/* Ensure header has proper layout for inline tabs */
body:has(.homepage-hero) .md-header,
body:has(.plugin-showcase) .md-header {
  position: relative !important;
}

/* Ensure header inner has proper flex layout to accommodate tabs */
body:has(.homepage-hero) .md-header__inner,
body:has(.plugin-showcase) .md-header__inner {
  display: flex !important;
  align-items: center !important;
  position: relative !important;
}

/* Make tabs list horizontal and aligned */
body:has(.homepage-hero) .md-tabs__list,
body:has(.plugin-showcase) .md-tabs__list {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 0.2rem !important; /* Reduced gap for tighter spacing between menu items */
  margin: 0 !important;
  padding: 0 !important;
}

/* Hide tabs on tablet and mobile (will use hamburger menu instead) */
/* Increased breakpoint to prevent overlap on smaller desktop screens */
@media screen and (max-width: 960px) {
  body:has(.homepage-hero) .md-tabs,
  body:has(.plugin-showcase) .md-tabs {
    display: none !important;
  }
}

/* Premium tab item styling - inline horizontal layout with enhanced visibility */
body:has(.homepage-hero) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__link {
  padding: 0.4rem 0.8rem !important; /* Further reduced for more compact spacing */
  font-size: 0.95rem !important;
  font-weight: 700 !important;
  opacity: 0.95 !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  position: relative !important;
  color: #ffffff !important;
  border-radius: 10px !important;
  margin: 0 !important; /* Removed margin, relying on gap for spacing */
  background: transparent !important;
  display: inline-flex !important;
  align-items: center !important;
  white-space: nowrap !important;
  letter-spacing: 0.3px !important;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.2) !important;
}

/* Premium tab hover effect - more prominent feedback */
body:has(.homepage-hero) .md-tabs__link:hover,
body:has(.plugin-showcase) .md-tabs__link:hover {
  opacity: 1 !important;
  background: rgba(255, 255, 255, 0.25) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
}

[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-tabs__link:hover,
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-tabs__link:hover {
  background: rgba(100, 181, 246, 0.2) !important;
}

/* Premium active tab styling - more prominent to show current selection */
body:has(.homepage-hero) .md-tabs__link--active,
body:has(.plugin-showcase) .md-tabs__link--active {
  opacity: 1 !important;
  font-weight: 800 !important;
  color: #ffffff !important;
  background: rgba(255, 255, 255, 0.3) !important;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.25) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
  transform: scale(1.05) !important;
}

[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-tabs__link--active,
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-tabs__link--active {
  background: rgba(100, 181, 246, 0.3) !important;
  color: #ffffff !important;
}

/* Remove the bottom indicator since tabs are now inline */
body:has(.homepage-hero) .md-tabs__link--active::after,
body:has(.plugin-showcase) .md-tabs__link--active::after {
  display: none !important;
}

/* ========================================
   HERO SECTION SPACING ADJUSTMENTS
   ======================================== */

/* Premium hero section spacing - reduced since tabs are now inline with header */
body:has(.homepage-hero) .homepage-hero,
body:has(.plugin-showcase) .plugin-showcase {
  margin-top: 0 !important;
  padding-top: 4.2rem !important; /* Only Header height (tabs now inline) */
}

/* ========================================
   PREMIUM SEARCH & LANGUAGE SELECTOR
   ======================================== */

/* Premium search button styling */
body:has(.homepage-hero) .md-header__button.md-icon,
body:has(.plugin-showcase) .md-header__button.md-icon {
  color: #ffffff !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

body:has(.homepage-hero) .md-header__button.md-icon:hover,
body:has(.plugin-showcase) .md-header__button.md-icon:hover {
  transform: scale(1.15) rotate(5deg) !important;
  color: #ffffff !important;
}

/* Premium language selector */
body:has(.homepage-hero) .md-select,
body:has(.plugin-showcase) .md-select {
  border-radius: 8px !important;
  padding: 0.3rem 0.6rem !important;
  font-weight: 600 !important;
  transition: all 0.3s ease !important;
  border: 1px solid transparent !important;
  color: #ffffff !important;
}

body:has(.homepage-hero) .md-select:hover,
body:has(.plugin-showcase) .md-select:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  transform: translateY(-1px) !important;
}

[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-select:hover,
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-select:hover {
  background: rgba(100, 181, 246, 0.12) !important;
  border-color: rgba(100, 181, 246, 0.2) !important;
}

/* ========================================
   PREMIUM SCROLL EFFECTS
   ======================================== */

/* Premium shadow when scrolling */
body:has(.homepage-hero) .md-header[data-md-state="shadow"],
body:has(.plugin-showcase) .md-header[data-md-state="shadow"] {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12), 
              0 2px 8px rgba(0, 0, 0, 0.08) !important;
  transition: box-shadow 0.3s ease !important;
}

[data-md-color-scheme="slate"] body:has(.homepage-hero) .md-header[data-md-state="shadow"],
[data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-header[data-md-state="shadow"] {
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.6), 
              0 2px 12px rgba(0, 0, 0, 0.4) !important;
}

/* Smooth autohide behavior */
body:has(.homepage-hero) .md-header[data-md-state="hidden"],
body:has(.plugin-showcase) .md-header[data-md-state="hidden"] {
  transform: translateY(-100%);
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========================================
   PREMIUM ACCESSIBILITY
   ======================================== */

/* Premium focus states for keyboard navigation */
body:has(.homepage-hero) .md-tabs__link:focus-visible,
body:has(.plugin-showcase) .md-tabs__link:focus-visible {
  outline: 3px solid var(--md-accent-fg-color) !important;
  outline-offset: 3px !important;
  border-radius: 8px !important;
  background: rgba(25, 118, 210, 0.08) !important;
}

body:has(.homepage-hero) .md-header__button:focus-visible,
body:has(.plugin-showcase) .md-header__button:focus-visible {
  outline: 3px solid var(--md-accent-fg-color) !important;
  outline-offset: 2px !important;
  border-radius: 8px !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    background: rgba(255, 255, 255, 1) !important;
    border-bottom: 3px solid var(--md-primary-fg-color) !important;
  }
  
  [data-md-color-scheme="slate"] body:has(.homepage-hero) .md-header,
  [data-md-color-scheme="slate"] body:has(.plugin-showcase) .md-header {
    background: rgba(0, 0, 0, 1) !important;
    border-bottom: 3px solid var(--md-accent-fg-color) !important;
  }
  
  body:has(.homepage-hero) .md-tabs,
  body:has(.plugin-showcase) .md-tabs {
    border-bottom: 3px solid rgba(0, 0, 0, 0.3) !important;
  }
  
  body:has(.homepage-hero) .md-tabs__link--active,
  body:has(.plugin-showcase) .md-tabs__link--active {
    background: var(--md-primary-fg-color) !important;
    color: white !important;
  }
}

/* ========================================
   PREMIUM RESPONSIVE DESIGN
   ======================================== */

/* Tablet adjustments - hide tabs earlier to avoid overlap */
@media screen and (max-width: 960px) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    min-height: 4rem !important;
  }
  
  body:has(.homepage-hero) .md-header__inner,
  body:has(.plugin-showcase) .md-header__inner {
    padding: 0 1.2rem !important;
  }
  
  /* Ensure tabs are hidden on smaller screens */
  body:has(.homepage-hero) .md-tabs,
  body:has(.plugin-showcase) .md-tabs {
    display: none !important;
  }
}

/* Mobile optimizations */
@media screen and (max-width: 60em) {
  /* Ensure mobile header is prominent and accessible */
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    min-height: 3.8rem !important;
    padding: 0.3rem 0 !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2) !important;
  }
  
  body:has(.homepage-hero) .md-header__inner,
  body:has(.plugin-showcase) .md-header__inner {
    padding: 0 1rem !important;
  }
  
  body:has(.homepage-hero) .md-header__title,
  body:has(.plugin-showcase) .md-header__title {
    font-size: 1.05rem !important;
    padding-left: 0.5rem !important;
  }
  
  /* Adjust hero spacing for mobile - no tabs visible on mobile */
  body:has(.homepage-hero) .homepage-hero,
  body:has(.plugin-showcase) .plugin-showcase {
    padding-top: 3.8rem !important; /* Only header height on mobile */
  }
}

/* Small mobile devices */
@media screen and (max-width: 480px) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header {
    min-height: 3.5rem !important;
    padding: 0.2rem 0 !important;
  }
  
  body:has(.homepage-hero) .md-header__inner,
  body:has(.plugin-showcase) .md-header__inner {
    padding: 0 0.8rem !important;
  }
  
  body:has(.homepage-hero) .md-header__title,
  body:has(.plugin-showcase) .md-header__title {
    font-size: 1rem !important;
    padding-left: 0.3rem !important;
  }
  
  body:has(.homepage-hero) .md-header__button,
  body:has(.plugin-showcase) .md-header__button {
    padding: 0.3rem !important;
    margin: 0 0.15rem !important;
  }
  
  /* Adjust hero spacing for small mobile */
  body:has(.homepage-hero) .homepage-hero,
  body:has(.plugin-showcase) .plugin-showcase {
    padding-top: 3.5rem !important;
  }
}

/* ========================================
   PREMIUM PERFORMANCE OPTIMIZATIONS
   ======================================== */

/* Use GPU acceleration for smooth animations */
body:has(.homepage-hero) .md-header,
body:has(.plugin-showcase) .md-header,
body:has(.homepage-hero) .md-tabs,
body:has(.plugin-showcase) .md-tabs {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  /* will-change moved to hover/active states to reduce memory overhead */
}

body:has(.homepage-hero) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__link {
  transform: translateZ(0);
  backface-visibility: hidden;
  /* will-change moved to hover/active states to reduce memory overhead */
}

/* Apply will-change only on interaction */
body:has(.homepage-hero) .md-header:hover,
body:has(.plugin-showcase) .md-header:hover,
body:has(.homepage-hero) .md-tabs:hover,
body:has(.plugin-showcase) .md-tabs:hover {
  will-change: transform, box-shadow;
}

body:has(.homepage-hero) .md-tabs__link:hover,
body:has(.homepage-hero) .md-tabs__link--active,
body:has(.plugin-showcase) .md-tabs__link:hover,
body:has(.plugin-showcase) .md-tabs__link--active {
  will-change: transform, opacity, background;
}

/* Optimize rendering */
body:has(.homepage-hero) .md-header__button,
body:has(.plugin-showcase) .md-header__button,
body:has(.homepage-hero) .md-header__title,
body:has(.plugin-showcase) .md-header__title {
  transform: translateZ(0);
}

/* ========================================
   PREMIUM BRAND IDENTITY
   ======================================== */

/* Add premium brand accent to header - enhanced gradient for luxury appeal */
body:has(.homepage-hero) .md-header::before,
body:has(.plugin-showcase) .md-header::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, 
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0.9) 50%,
    rgba(255, 255, 255, 0.4) 100%
  );
  opacity: 0.8;
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.5);
}

/* ========================================
   PREMIUM ANIMATIONS
   ======================================== */

/* Entrance animation for header */
@keyframes slideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

body:has(.homepage-hero) .md-header,
body:has(.plugin-showcase) .md-header {
  animation: slideDown 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Staggered animation for navigation tabs */
@keyframes fadeInUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Staggered animation for navigation tabs - applies to both homepage styles */
body:has(.homepage-hero) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__link {
  animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  position: relative;
}

/* Add a subtle glow effect on hover for premium feel */
body:has(.homepage-hero) .md-tabs__link::after,
body:has(.plugin-showcase) .md-tabs__link::after {
  content: '';
  position: absolute;
  top: -2px;
  right: -2px;
  bottom: -2px;
  left: -2px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1));
  border-radius: 10px;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: -1;
}

body:has(.homepage-hero) .md-tabs__link:hover::after,
body:has(.plugin-showcase) .md-tabs__link:hover::after {
  opacity: 1;
}

/* Static animation delays - supports up to 10 tabs without JavaScript */
/* Using consolidated selectors to avoid duplication */
body:has(.homepage-hero) .md-tabs__item:nth-child(1) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(1) .md-tabs__link { 
  animation-delay: 0.05s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(2) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(2) .md-tabs__link { 
  animation-delay: 0.10s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(3) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(3) .md-tabs__link { 
  animation-delay: 0.15s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(4) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(4) .md-tabs__link { 
  animation-delay: 0.20s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(5) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(5) .md-tabs__link { 
  animation-delay: 0.25s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(6) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(6) .md-tabs__link { 
  animation-delay: 0.30s; 
}

/* Extended support for up to 10 tabs */
body:has(.homepage-hero) .md-tabs__item:nth-child(7) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(7) .md-tabs__link { 
  animation-delay: 0.35s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(8) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(8) .md-tabs__link { 
  animation-delay: 0.40s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(9) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(9) .md-tabs__link { 
  animation-delay: 0.45s; 
}

body:has(.homepage-hero) .md-tabs__item:nth-child(10) .md-tabs__link,
body:has(.plugin-showcase) .md-tabs__item:nth-child(10) .md-tabs__link { 
  animation-delay: 0.50s; 
}

/* Reduced motion support - instant appearance */
@media (prefers-reduced-motion: reduce) {
  body:has(.homepage-hero) .md-header,
  body:has(.plugin-showcase) .md-header,
  body:has(.homepage-hero) .md-tabs__link,
  body:has(.plugin-showcase) .md-tabs__link {
    animation: none !important;
    animation-duration: 0s !important;
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
  
  body:has(.homepage-hero) .md-tabs__link,
  body:has(.plugin-showcase) .md-tabs__link,
  body:has(.homepage-hero) .md-header__button,
  body:has(.plugin-showcase) .md-header__button {
    transform: none !important;
    transition: opacity 0.15s ease !important;
  }
}
